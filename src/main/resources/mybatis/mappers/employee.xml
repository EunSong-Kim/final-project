<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.last.mapper.EmployeeMapper">
	<select id="getAllEmployees" resultType="EmployeeDto">
		select
			E.employee_no			as no,
			E.employee_name			as name,
			E.hire_date				as hire,
			E.mobile_tel			as mobileTel,
			E.company_email			as companyEmail,
			E.home_basic_address	as basicAddress,
			E.employee_status		as status,
			D.dept_name				as deptName,
			P.position_name			as positionName
		from
			employees E, departments D, positions P
		where
			E.dept_no = D.dept_no
		and
			E.position_no = P.position_no
		and
			E.employee_status = 'N'
	</select>


	<select id="getAllPosition" resultType="Position">
		select	
			position_no 		as no, 
			position_name 		as name
		from positions
	</select>


	<select id="getAllDepartment" resultType="Department">
		select	
			dept_no 		as no, 
			dept_name 		as name
		from departments
	</select>
	
	<select id="getAllGrade" resultType="Grades">
		select	
			hobong_grade		as grade, 
			hobong_amount 		as amount
		from grades
	</select>

	<insert id="insertEmployees" parameterType="Employee">
			insert into Employees
				(employee_no, employee_password, employee_name, employee_gender, employee_birthday, company_tel, home_tel, mobile_tel, company_email, external_email, home_zipcode, home_basic_address, home_detail_address, hire_date, retirement_date, employee_status, employee_role_name, memo, dept_no, position_no, hobong_grade, photo)
			values
				(#{employeeNo}, #{password}, #{name}, #{gender}, #{birthday}, #{comTel}, #{homeTel}, #{mobileTel}, #{comEmail}, #{extEmail}, #{zipcode}, #{basicAddress}, #{detailAddress}, #{hireDate}, #{retirementDate}, #{employeeStatus}, #{employeeRoleName}, #{memo}, #{deptNo}, #{positionNo}, #{hobong}, #{photo})
	</insert>



</mapper>